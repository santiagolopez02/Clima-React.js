{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Win10\\\\Desktop\\\\Reactjs-Udemy\\\\clima\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Win10\\\\Desktop\\\\Reactjs-Udemy\\\\clima\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Win10\\\\Desktop\\\\Reactjs-Udemy\\\\clima\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Header from'./componentes/Header';import Formulario from'./componentes/Formulario';import Error from'./componentes/Error';import Clima from'./componentes/Clima';//import axios from 'axios';\n//Redux Hooks\nfunction App(){//state princiapl con hook uno para cada state con su set(guardar...)\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),ciudad=_useState2[0],guardarCiudad=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pais=_useState4[0],guardarPais=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],guardarError=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),resultado=_useState8[0],guardarResultado=_useState8[1];//useEffect reeemplaza a los metodos del ciclo de vida didMount o didUpdate\nuseEffect(function(){//valida el state\nif(ciudad==='')return;//Consulta api dentro de useEffect\nvar consultaApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var appId,url,respuesta,resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:appId=\"444952050b47051c76266fc6537298a8\";url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(ciudad,\",\").concat(pais,\"&appid=\").concat(appId);_context.next=4;return fetch(url);case 4:respuesta=_context.sent;_context.next=7;return respuesta.json();case 7:resultado=_context.sent;console.log(resultado);guardarResultado(resultado);case 10:case\"end\":return _context.stop();}}},_callee);}));return function consultaApi(){return _ref.apply(this,arguments);};}();consultaApi();},[ciudad,pais]);//FUNCION PARA PASAR A FORMULARIO\nvar datoConsultas=function datoConsultas(datos){//validar form\nif(datos.ciudad===''||datos.pais===''){//error\nguardarError(true);return;}//setea los state con las funciones guardar\nguardarCiudad(datos.ciudad);guardarPais(datos.pais);guardarError(false);};//cargar un componente con condicion\nvar componente;if(error){componente=React.createElement(Error,{mensaje:\"Debes completar los campos\"});}else{componente=React.createElement(Clima,{resultado:resultado});}return React.createElement(\"div\",{className:\"App\"},React.createElement(Header,{titulo:\"Clima App\"}),React.createElement(\"div\",{className:\"contenedor-form\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col s12 m6\"},React.createElement(Formulario,{datoConsultas:datoConsultas})),React.createElement(\"div\",{className:\"col s12 m6\"},componente)))));}export default App;","map":{"version":3,"sources":["C:/Users/Win10/Desktop/Reactjs-Udemy/clima/src/App.js"],"names":["React","useState","useEffect","Header","Formulario","Error","Clima","App","ciudad","guardarCiudad","pais","guardarPais","error","guardarError","resultado","guardarResultado","consultaApi","appId","url","fetch","respuesta","json","console","log","datoConsultas","datos","componente"],"mappings":"4YAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA;AACA;AAEA,QAASC,CAAAA,GAAT,EAAe,CACb;AADa,cAEgBN,QAAQ,CAAC,EAAD,CAFxB,wCAERO,MAFQ,eAEAC,aAFA,8BAGYR,QAAQ,CAAC,EAAD,CAHpB,yCAGRS,IAHQ,eAGFC,WAHE,8BAIcV,QAAQ,CAAC,KAAD,CAJtB,yCAIRW,KAJQ,eAIDC,YAJC,8BAKuBZ,QAAQ,CAAC,EAAD,CAL/B,yCAKRa,SALQ,eAKGC,gBALH,eAOf;AACAb,SAAS,CAAC,UAAI,CACZ;AACA,GAAIM,MAAM,GAAK,EAAf,CAAmB,OAEnB;AACA,GAAMQ,CAAAA,WAAW,0FAAG,qKACZC,KADY,oCAEZC,GAFY,6DAE+CV,MAF/C,aAEyDE,IAFzD,mBAEuEO,KAFvE,wBAGME,CAAAA,KAAK,CAACD,GAAD,CAHX,QAGZE,SAHY,qCAIMA,CAAAA,SAAS,CAACC,IAAV,EAJN,QAIZP,SAJY,eAMlBQ,OAAO,CAACC,GAAR,CAAYT,SAAZ,EACAC,gBAAgB,CAACD,SAAD,CAAhB,CAPkB,uDAAH,kBAAXE,CAAAA,WAAW,0CAAjB,CASAA,WAAW,GACZ,CAfQ,CAeP,CAACR,MAAD,CAASE,IAAT,CAfO,CAAT,CAmBE;AACA,GAAMc,CAAAA,aAAa,CAAI,QAAjBA,CAAAA,aAAiB,CAAAC,KAAK,CAAE,CAC9B;AACA,GAAIA,KAAK,CAACjB,MAAN,GAAiB,EAAjB,EAAuBiB,KAAK,CAACf,IAAN,GAAa,EAAxC,CAA4C,CAC1C;AACAG,YAAY,CAAC,IAAD,CAAZ,CACA,OACD,CAED;AACAJ,aAAa,CAACgB,KAAK,CAACjB,MAAP,CAAb,CACAG,WAAW,CAACc,KAAK,CAACf,IAAP,CAAX,CACAG,YAAY,CAAC,KAAD,CAAZ,CAGC,CAdD,CAgBA;AACA,GAAIa,CAAAA,UAAJ,CACA,GAAId,KAAJ,CAAW,CACTc,UAAU,CAAE,oBAAC,KAAD,EAAO,OAAO,CAAC,4BAAf,EAAZ,CAED,CAHD,IAGK,CACHA,UAAU,CAAE,oBAAC,KAAD,EAAO,SAAS,CAAEZ,SAAlB,EAAZ,CACD,CAGD,MACE,4BAAK,SAAS,CAAC,KAAf,EACE,oBAAC,MAAD,EACE,MAAM,CAAC,WADT,EADF,CAKE,2BAAK,SAAS,CAAC,iBAAf,EACE,2BAAK,SAAS,CAAC,WAAf,EACE,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,oBAAC,UAAD,EACA,aAAa,CAAEU,aADf,EADF,CADF,CAOE,2BAAK,SAAS,CAAC,YAAf,EACGE,UADH,CAPF,CADF,CADF,CALF,CADF,CAwBD,CAED,cAAenB,CAAAA,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Header from './componentes/Header'\nimport Formulario from './componentes/Formulario'\nimport Error from './componentes/Error'\nimport Clima from './componentes/Clima'\n\n//import axios from 'axios';\n//Redux Hooks\n\nfunction App() {\n  //state princiapl con hook uno para cada state con su set(guardar...)\nconst [ciudad, guardarCiudad]= useState('');\nconst [pais, guardarPais]= useState('');\nconst [error, guardarError]= useState(false);\nconst [resultado, guardarResultado] = useState({});\n\n//useEffect reeemplaza a los metodos del ciclo de vida didMount o didUpdate\nuseEffect(()=>{\n  //valida el state\n  if (ciudad === '') return;\n  \n  //Consulta api dentro de useEffect\n  const consultaApi = async()=>{\n    const appId = `444952050b47051c76266fc6537298a8`;\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&appid=${appId}`; \n    const respuesta = await fetch(url);\n    const resultado = await respuesta.json();\n    \n    console.log(resultado);\n    guardarResultado(resultado);\n  }\n  consultaApi();\n},[ciudad, pais]);\n\n\n\n  //FUNCION PARA PASAR A FORMULARIO\n  const datoConsultas =  datos=>{\n  //validar form\n  if (datos.ciudad === '' || datos.pais==='') {\n    //error\n    guardarError(true);\n    return;\n  }  \n\n  //setea los state con las funciones guardar\n  guardarCiudad(datos.ciudad);\n  guardarPais(datos.pais);\n  guardarError(false);  \n\n  \n  }\n\n  //cargar un componente con condicion\n  let componente\n  if (error) {\n    componente =<Error mensaje='Debes completar los campos'/>;\n    \n  }else{\n    componente= <Clima resultado={resultado}/>;\n  }\n  \n\n  return (\n    <div className=\"App\">\n      <Header\n        titulo=\"Clima App\"\n      />\n      \n      <div className=\"contenedor-form\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col s12 m6\">\n              <Formulario\n              datoConsultas={datoConsultas}\n              />\n            </div>\n\n            <div className=\"col s12 m6\">\n              {componente}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}